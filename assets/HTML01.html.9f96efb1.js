import{_ as o,o as p,c,b as n,e as s,a as t,d as e,r as i}from"./app.fbdceb87.js";const l={},r=e('<h2 id="question" tabindex="-1"><a class="header-anchor" href="#question" aria-hidden="true">#</a> QUESTION</h2><p>\u7F51\u7AD9\u5F00\u53D1\u4E2D\uFF0C\u5982\u4F55\u5B9E\u73B0\u56FE\u7247\u7684\u61D2\u52A0\u8F7D\uFF0C\u6709\u6CA1\u6709\u66F4\u597D\u7684\u65B9\u6848</p><h2 id="analysis" tabindex="-1"><a class="header-anchor" href="#analysis" aria-hidden="true">#</a> ANALYSIS</h2><p>\u61D2\u52A0\u8F7D\uFF0C\u5C31\u662F\u5728\u5F53\u524D\u7F51\u9875\uFF0C\u6ED1\u52A8\u9875\u9762\u5230\u80FD\u770B\u5230\u56FE\u7247\u7684\u65F6\u5019\u518D\u52A0\u8F7D\u56FE\u7247</p><p>\u62C6\u5206\u4E3A\u4E24\u4E2A\u95EE\u9898</p><ul><li>\u5982\u4F55\u5224\u65AD\u56FE\u7247\u5728\u5F53\u524D\u89C6\u53E3\uFF08\u5373\u5224\u65AD\u6211\u4EEC\u662F\u5426\u770B\u5230\u56FE\u7247</li><li>\u5982\u4F55\u63A7\u5236\u56FE\u7247\u7684\u52A0\u8F7D</li></ul><h2 id="\u65B9\u6848\u4E00-\u4F4D\u7F6E\u8BA1\u7B97-\u6EDA\u52A8\u4E8B\u4EF6-scroll-dataset-api" tabindex="-1"><a class="header-anchor" href="#\u65B9\u6848\u4E00-\u4F4D\u7F6E\u8BA1\u7B97-\u6EDA\u52A8\u4E8B\u4EF6-scroll-dataset-api" aria-hidden="true">#</a> \u65B9\u6848\u4E00: \u4F4D\u7F6E\u8BA1\u7B97 + \u6EDA\u52A8\u4E8B\u4EF6 (Scroll) + DataSet API</h2>',7),u={id:"\u5982\u4F55\u5224\u65AD\u56FE\u7247\u51FA\u73B0\u5728\u4E86\u5F53\u524D\u89C6\u53E3",tabindex:"-1"},d=n("a",{class:"header-anchor",href:"#\u5982\u4F55\u5224\u65AD\u56FE\u7247\u51FA\u73B0\u5728\u4E86\u5F53\u524D\u89C6\u53E3","aria-hidden":"true"},"#",-1),h={href:"https://q.shanyue.tech/fe/html/1.html#%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E5%9B%BE%E7%89%87%E5%87%BA%E7%8E%B0%E5%9C%A8%E4%BA%86%E5%BD%93%E5%89%8D%E8%A7%86%E5%8F%A3",target:"_blank",rel:"noopener noreferrer"},k=e("<p><code>clientTop</code>\uFF0C<code>offsetTop</code>\uFF0C<code>clientHeight</code> \u4EE5\u53CA <code>scrollTop</code> \u5404\u79CD\u5173\u4E8E\u56FE\u7247\u7684\u9AD8\u5EA6\u4F5C\u6BD4\u5BF9</p><p>\u8FD9\u4E9B\u9AD8\u5EA6\u90FD\u4EE3\u8868\u4E86\u4EC0\u4E48\u610F\u601D\uFF1F</p><p>\u8FD9\u6211\u4EE5\u524D\u6709\u53EF\u80FD\u662F\u77E5\u9053\u7684\uFF0C\u90A3\u65F6\u5019\u6211\u6BD4\u8F83\u5355\u7EAF\uFF0C\u559C\u6B22\u6B7B\u78D5\u3002\u6211\u73B0\u5728\u60F3\u901A\u4E86\uFF0C\u80CC\u4E0D\u8FC7\u7684\u4E1C\u897F\u5C31\u4E0D\u8981\u80CC\u4E86</p><p><strong>\u6240\u4EE5\u5B83\u6709\u4E00\u4E2A\u95EE\u9898\uFF1A\u590D\u6742\u7410\u788E\u4E0D\u597D\u7406\u89E3\uFF01</strong></p><p>\u4EC5\u4EC5\u77E5\u9053\u5B83\u9759\u6001\u7684\u9AD8\u5EA6\u8FD8\u4E0D\u591F\uFF0C\u6211\u4EEC\u8FD8\u9700\u8981\u77E5\u9053\u52A8\u6001\u7684</p><p><strong>\u5982\u4F55\u52A8\u6001\uFF1F\u76D1\u542C <code>window.scroll</code> \u4E8B\u4EF6</strong></p>",6),g={id:"\u5982\u4F55\u63A7\u5236\u56FE\u7247\u7684\u52A0\u8F7D",tabindex:"-1"},m=n("a",{class:"header-anchor",href:"#\u5982\u4F55\u63A7\u5236\u56FE\u7247\u7684\u52A0\u8F7D","aria-hidden":"true"},"#",-1),v={href:"https://q.shanyue.tech/fe/html/1.html#%E5%A6%82%E4%BD%95%E6%8E%A7%E5%88%B6%E5%9B%BE%E7%89%87%E7%9A%84%E5%8A%A0%E8%BD%BD",target:"_blank",rel:"noopener noreferrer"},_=e(`<div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shanyue.jpg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u9996\u5148\u8BBE\u7F6E\u4E00\u4E2A\u4E34\u65F6 Data \u5C5E\u6027 <code>data-src</code>\uFF0C\u63A7\u5236\u52A0\u8F7D\u65F6\u4F7F\u7528 <code>src</code> \u4EE3\u66FF <code>data-src</code>\uFF0C\u53EF\u5229\u7528 DataSet API \u5B9E\u73B0</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>img.src = img.datset.src
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,3),b={id:"\u65B9\u6848\u4E8C-getboundingclientrect-api-scroll-with-throttle-dataset-api",tabindex:"-1"},E=n("a",{class:"header-anchor",href:"#\u65B9\u6848\u4E8C-getboundingclientrect-api-scroll-with-throttle-dataset-api","aria-hidden":"true"},"#",-1),f={href:"https://q.shanyue.tech/fe/html/1.html#%E6%96%B9%E6%A1%88%E4%BA%8C-getboundingclientrect-api-scroll-with-throttle-dataset-api",target:"_blank",rel:"noopener noreferrer"},A=n("p",null,"\u6539\u8FDB\u4E00\u4E0B",-1),B={id:"\u5982\u4F55\u5224\u65AD\u56FE\u7247\u51FA\u73B0\u5728\u4E86\u5F53\u524D\u89C6\u53E3-1",tabindex:"-1"},x=n("a",{class:"header-anchor",href:"#\u5982\u4F55\u5224\u65AD\u56FE\u7247\u51FA\u73B0\u5728\u4E86\u5F53\u524D\u89C6\u53E3-1","aria-hidden":"true"},"#",-1),w={href:"https://q.shanyue.tech/fe/html/1.html#%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E5%9B%BE%E7%89%87%E5%87%BA%E7%8E%B0%E5%9C%A8%E4%BA%86%E5%BD%93%E5%89%8D%E8%A7%86%E5%8F%A3-2",target:"_blank",rel:"noopener noreferrer"},y=e(`<p>\u5F15\u5165\u4E00\u4E2A\u65B0\u7684 API\uFF0C <strong><code>Element.getBoundingClientRect()</code> \u65B9\u6CD5\u8FD4\u56DE\u5143\u7D20\u7684\u5927\u5C0F\u53CA\u5176\u76F8\u5BF9\u4E8E\u89C6\u53E3\u7684\u4F4D\u7F6E\u3002</strong></p><p><img src="https://mdn.mozillademos.org/files/15087/rect.png" alt="getBoundingClientRect\u793A\u4F8B\u56FE"></p><p>\u90A3\u5982\u4F55\u5224\u65AD\u56FE\u7247\u51FA\u73B0\u5728\u4E86\u5F53\u524D\u89C6\u53E3\u5462\uFF0C\u6839\u636E\u793A\u4F8B\u56FE\u793A\u610F\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF0C\u8FD9\u4E2A\u5C31\u6BD4\u8F83\u597D\u7406\u89E3\u4E86\uFF0C\u5C31\u53EF\u4EE5\u5F88\u5BB9\u6613\u5730\u80CC\u4F1A(\u5C31\u53EF\u4EE5\u6109\u5FEB\u5730\u53BB\u9762\u8BD5\u4E86)\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// clientHeight \u4EE3\u8868\u5F53\u524D\u89C6\u53E3\u7684\u9AD8\u5EA6</span>
img<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>top <span class="token operator">&lt;</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u76D1\u542C <code>window.scroll</code> \u4E8B\u4EF6\u4E5F\u4F18\u5316\u4E00\u4E0B</strong></p><p>\u52A0\u4E2A\u8282\u6D41\u5668\uFF0C\u63D0\u9AD8\u6027\u80FD\u3002\u5DE5\u4F5C\u4E2D\u4E00\u822C\u4F7F\u7528 <code>lodash.throttle</code> \u5C31\u53EF\u4EE5\u4E86\uFF0C\u4E07\u80FD\u7684 <code>lodash</code> \u554A\uFF01</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>_<span class="token punctuation">.</span><span class="token function">throttle</span><span class="token punctuation">(</span>func<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>wait <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">(</span>options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,7),q={href:"https://github.com/shfshanyue/Daily-Question/issues/3",target:"_blank",rel:"noopener noreferrer"},D={href:"https://q.shanyue.tech/fe/js/3.html",target:"_blank",rel:"noopener noreferrer"},I={id:"\u65B9\u6848\u4E09-intersectionobserver-api-dataset-api",tabindex:"-1"},j=n("a",{class:"header-anchor",href:"#\u65B9\u6848\u4E09-intersectionobserver-api-dataset-api","aria-hidden":"true"},"#",-1),S={href:"https://q.shanyue.tech/fe/html/1.html#%E6%96%B9%E6%A1%88%E4%B8%89-intersectionobserver-api-dataset-api",target:"_blank",rel:"noopener noreferrer"},C=n("p",null,"\u518D\u6539\u8FDB\u4E00\u4E0B",-1),L={id:"\u5982\u4F55\u5224\u65AD\u56FE\u7247\u51FA\u73B0\u5728\u4E86\u5F53\u524D\u89C6\u53E3-2",tabindex:"-1"},P=n("a",{class:"header-anchor",href:"#\u5982\u4F55\u5224\u65AD\u56FE\u7247\u51FA\u73B0\u5728\u4E86\u5F53\u524D\u89C6\u53E3-2","aria-hidden":"true"},"#",-1),z={href:"https://q.shanyue.tech/fe/html/1.html#%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E5%9B%BE%E7%89%87%E5%87%BA%E7%8E%B0%E5%9C%A8%E4%BA%86%E5%BD%93%E5%89%8D%E8%A7%86%E5%8F%A3-3",target:"_blank",rel:"noopener noreferrer"},T=n("p",null,[n("strong",null,[s("\u65B9\u6848\u4E8C\u4F7F\u7528\u7684\u65B9\u6CD5\u662F: "),n("code",null,"window.scroll"),s(" \u76D1\u542C "),n("code",null,"Element.getBoundingClientRect()"),s(" \u5E76\u4F7F\u7528 "),n("code",null,"_.throttle"),s(" \u8282\u6D41")])],-1),O=n("p",null,[n("strong",null,[s("\u4E00\u7CFB\u5217\u7EC4\u5408\u52A8\u4F5C\u592A\u590D\u6742\u4E86\uFF0C\u4E8E\u662F\u6D4F\u89C8\u5668\u51FA\u4E86\u4E00\u4E2A\u4E09\u5408\u4E00\u4E8B\u4EF6: "),n("code",null,"IntersectionObserver"),s(" API\uFF0C\u4E00\u4E2A\u80FD\u591F\u76D1\u542C\u5143\u7D20\u662F\u5426\u5230\u4E86\u5F53\u524D\u89C6\u53E3\u7684\u4E8B\u4EF6\uFF0C\u4E00\u6B65\u5230\u4F4D\uFF01")])],-1),N={href:"https://developer.mozilla.org/en-US/docs/Web/API/IntersectionObserverEntry",target:"_blank",rel:"noopener noreferrer"},R=e(`<p>\u5176\u4E2D\uFF0C<code>entry.isIntersecting</code> \u4EE3\u8868\u76EE\u6807\u5143\u7D20\u53EF\u89C1</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntersectionObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">changes</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// changes: \u76EE\u6807\u5143\u7D20\u96C6\u5408</span>
  changes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">change</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// intersectionRatio</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>change<span class="token punctuation">.</span>isIntersecting<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> img <span class="token operator">=</span> change<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
      img<span class="token punctuation">.</span>src <span class="token operator">=</span> img<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>src<span class="token punctuation">;</span>
      observer<span class="token punctuation">.</span><span class="token function">unobserve</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>\u5F53\u7136\uFF0C<code>IntersectionObserver</code> \u9664\u4E86\u7ED9\u56FE\u7247\u505A\u61D2\u52A0\u8F7D\u5916\uFF0C\u8FD8\u53EF\u4EE5\u5BF9\u5355\u9875\u5E94\u7528\u8D44\u6E90\u505A\u9884\u52A0\u8F7D\u3002</strong></p>`,3),H=n("code",null,"next.js v9",-1),V={href:"https://nextjs.org/blog/next-9#production-optimizations",target:"_blank",rel:"noopener noreferrer"},F=e(`<div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/about<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">\u5173\u4E8E\u5C71\u6708</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="\u65B9\u6848\u56DB-lazyloading-\u5C5E\u6027" tabindex="-1"><a class="header-anchor" href="#\u65B9\u6848\u56DB-lazyloading-\u5C5E\u6027" aria-hidden="true">#</a> \u65B9\u6848\u56DB: LazyLoading \u5C5E\u6027</h2><p>\u6D4F\u89C8\u5668\u89C9\u5F97\u61D2\u52A0\u8F7D\u8FD9\u4E8B\u53EF\u4EE5\u4EA4\u7ED9\u81EA\u5DF1\u505A\uFF0C\u4F60\u4EEC\u5F00\u53D1\u8005\u52A0\u4E2A\u5C5E\u6027\u5C31\u597D\u4E86\u3002\u5B9E\u5728\u662F...\uFF01</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>shanyue.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">loading</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lazy<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u4E0D\u8FC7\u76EE\u524D\u6D4F\u89C8\u5668\u517C\u5BB9\u6027\u4E0D\u592A\u597D</p>`,5);function M(Q,U){const a=i("ExternalLinkIcon");return p(),c("div",null,[r,n("h3",u,[d,s(),n("a",h,[s("#"),t(a)]),s("\u5982\u4F55\u5224\u65AD\u56FE\u7247\u51FA\u73B0\u5728\u4E86\u5F53\u524D\u89C6\u53E3")]),k,n("h3",g,[m,s(),n("a",v,[s("#"),t(a)]),s("\u5982\u4F55\u63A7\u5236\u56FE\u7247\u7684\u52A0\u8F7D")]),_,n("h2",b,[E,s(),n("a",f,[s("#"),t(a)]),s("\u65B9\u6848\u4E8C: getBoundingClientRect API + Scroll with Throttle + DataSet API")]),A,n("h3",B,[x,s(),n("a",w,[s("#"),t(a)]),s("\u5982\u4F55\u5224\u65AD\u56FE\u7247\u51FA\u73B0\u5728\u4E86\u5F53\u524D\u89C6\u53E3")]),y,n("p",null,[s("\u53C2\u8003 "),n("a",q,[s("\u4EC0\u4E48\u662F\u9632\u6296\u548C\u8282\u6D41\uFF0C\u4ED6\u4EEC\u7684\u5E94\u7528\u573A\u666F\u6709\u54EA\u4E9B (opens new window)"),t(a)]),s("\uFF0C\u6216\u8005"),n("a",D,[s("\u524D\u7AEF\u9762\u8BD5\u9898(opens new window)"),t(a)])]),n("h2",I,[j,s(),n("a",S,[s("#"),t(a)]),s("\u65B9\u6848\u4E09: IntersectionObserver API + DataSet API")]),C,n("h3",L,[P,s(),n("a",z,[s("#"),t(a)]),s("\u5982\u4F55\u5224\u65AD\u56FE\u7247\u51FA\u73B0\u5728\u4E86\u5F53\u524D\u89C6\u53E3")]),T,O,n("p",null,[s("\u4E8B\u4EF6\u56DE\u8C03\u7684\u53C2\u6570\u662F "),n("a",N,[s("IntersectionObserverEntry (opens new window)"),t(a)]),s("\u7684\u96C6\u5408\uFF0C\u4EE3\u8868\u5173\u4E8E\u662F\u5426\u5728\u53EF\u89C1\u89C6\u53E3\u7684\u4E00\u7CFB\u5217\u503C")]),R,n("p",null,[s("\u5982\u5728 "),H,s(" \u4E2D\uFF0C\u4F1A\u5BF9\u89C6\u53E3\u5185\u7684\u8D44\u6E90\u505A\u9884\u52A0\u8F7D\uFF0C\u53EF\u4EE5\u53C2\u8003 "),n("a",V,[s("next 9 production optimizations(opens new window)"),t(a)])]),F])}const Y=o(l,[["render",M],["__file","HTML01.html.vue"]]);export{Y as default};
